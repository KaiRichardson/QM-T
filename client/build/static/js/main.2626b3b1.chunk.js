(this.webpackJsonpsimple=this.webpackJsonpsimple||[]).push([[0],{438:function(e,t,a){e.exports=a(575)},575:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(697),c=a(696),i=a(20),l=a(22),o={login:function(e){var t=e.username,a=e.password;return"login"===t&&"password"===a?(localStorage.removeItem("not_authenticated"),localStorage.removeItem("role"),Promise.resolve()):"user"===t&&"password"===a?(localStorage.setItem("role","user"),localStorage.removeItem("not_authenticated"),Promise.resolve()):"admin"===t&&"password"===a?(localStorage.setItem("role","admin"),localStorage.removeItem("not_authenticated"),Promise.resolve()):(localStorage.setItem("not_authenticated",!0),Promise.reject())},logout:function(){return localStorage.setItem("not_authenticated",!0),localStorage.removeItem("role"),Promise.resolve()},checkError:function(e){var t=e.status;return 401===t||403===t?Promise.reject():Promise.resolve()},checkAuth:function(){return localStorage.getItem("not_authenticated")?Promise.reject():Promise.resolve()},getPermissions:function(){var e=localStorage.getItem("role");return Promise.resolve(e)}},s=a(366),u=a.n(s),m=a(708),d=a(656),p=a(190),b=a(332),E=a(661),f=a(81),h=a(7),g=a(26),v=a(38),O=a(398),j=a(652),y=a(653),w=a(654),_=a(655),S=a(34),k=a(334),C=a(704),P=a(660),x=a(29),N=a(210),q=a(649),A=a(43),D=a(47),T=a(322),I=a.n(T),L=Object(v.a)({button:{margin:"10px 24px",position:"relative"},iconPaddingStyle:{paddingRight:"0.5em"}}),F=function(e){var t=e.onClick,a=e.label,r=void 0===a?"ra.action.cancel":a,c=Object(S.a)(),i=L();return n.createElement(O.a,{className:i.button,onClick:t},n.createElement(I.a,{className:i.iconPaddingStyle}),r&&c(r,{_:r}))},W=function(e){e.submitting;var t=e.onCancel,a=Object(x.a)(e,["submitting","onCancel"]);return n.createElement(N.a,Object.assign({},a,{disableGutters:!0}),n.createElement(q.a,null),n.createElement(F,{onClick:t}))},R=Object(v.a)({form:{padding:0}}),V=function(e){var t=e.onCancel,a=e.onSave,r=Object(x.a)(e,["onCancel","onSave"]),c=R(),i=Object(h.e)(),l=Object(h.f)((function(e){return e.admin.loading>0})),o=Object(n.useCallback)((function(e){i({type:"QUICK_CREATE",payload:{data:e},meta:{fetch:A.a,resource:"posts",onSuccess:{callback:function(e){var t=e.payload.data;return a(t)}},onFailure:{callback:function(e){var t=e.error;i(Object(D.d)(t.message,"error"))}}}})}),[i,a]);return n.createElement(d.a,Object.assign({save:o,saving:l,redirect:!1,toolbar:n.createElement(W,{onCancel:t,submitting:l}),classes:{form:c.form}},r),n.createElement(b.a,{source:"title",validate:Object(p.e)()}),n.createElement(b.a,{source:"teaser",validate:Object(p.e)(),fullWidth:!0,multiline:!0}))},M=a(333),B=a(159),H=function(e){var t=Object(h.f)((function(t){return t.admin.resources[e.resource]?t.admin.resources[e.resource].data[e.id]:null}),[e.resource,e.id]),a=Object(h.f)((function(e){return e.admin.ui.viewVersion}));return Object(h.f)((function(e){return e.admin.loading>0})),n.createElement(M.a,Object.assign({version:a,record:t},e),n.createElement(B.a,{source:"id"}),n.createElement(B.a,{source:"title"}),n.createElement(B.a,{source:"teaser"}))},U=Object(v.a)({button:{margin:"10px 24px",position:"relative"}}),G=function(e){var t=Object(S.a)(),a=U(),r=Object(h.e)(),c=Object(g.e)().change,i=Object(n.useState)(!1),l=Object(f.a)(i,2),o=l[0],s=l[1],u=Object(n.useState)(!1),m=Object(f.a)(u,2),d=m[0],p=m[1],b=Object(n.useState)(""),E=Object(f.a)(b,2),v=E[0],x=E[1];Object(n.useEffect)((function(){r(Object(k.d)("posts","comments@post_id",{page:1,perPage:25},{field:"id",order:"DESC"},{}))}),[r,v]);var N=Object(n.useCallback)((function(e){e.preventDefault(),s(!0)}),[s]),q=Object(n.useCallback)((function(e){e.preventDefault(),p(!0)}),[p]),A=Object(n.useCallback)((function(){s(!1)}),[s]),D=Object(n.useCallback)((function(){p(!1)}),[p]),T=Object(n.useCallback)((function(e){s(!1),x(e.id),c("post_id",e.id)}),[s,x,c]);return n.createElement(n.Fragment,null,n.createElement(C.a,Object.assign({},e,{defaultValue:v}),n.createElement(P.a,{optionText:"title"})),n.createElement(O.a,{"data-testid":"button-add-post",className:a.button,onClick:N},t("ra.action.create")),n.createElement(g.c,{subscription:{values:!0},render:function(e){var r=e.values;return r.post_id?n.createElement(n.Fragment,null,n.createElement(O.a,{"data-testid":"button-show-post",className:a.button,onClick:q},t("ra.action.show")),n.createElement(j.a,{"data-testid":"dialog-show-post",fullWidth:!0,open:d,onClose:D,"aria-label":t("simple.create-post")},n.createElement(y.a,null,t("simple.create-post")),n.createElement(w.a,null,n.createElement(H,{id:r.post_id,basePath:"/posts",resource:"posts"})),n.createElement(_.a,null,n.createElement(O.a,{"data-testid":"button-close-modal",onClick:D},t("simple.action.close"))))):null}}),n.createElement(j.a,{"data-testid":"dialog-add-post",fullWidth:!0,open:o,onClose:A,"aria-label":t("simple.create-post")},n.createElement(y.a,null,t("simple.create-post")),n.createElement(w.a,null,n.createElement(V,{onCancel:A,onSave:T,basePath:"/posts",resource:"posts"}))))},Q=new Date,z={field:"title",order:"ASC"},J=function(e){return n.createElement(m.a,e,n.createElement(d.a,{redirect:!1},n.createElement(G,{source:"post_id",reference:"posts",allowEmpty:!0,validate:Object(p.e)(),perPage:1e4,sort:z}),n.createElement(b.a,{source:"author.name",validate:Object(p.b)(10),fullWidth:!0}),n.createElement(E.a,{source:"created_at",defaultValue:Q}),n.createElement(b.a,{source:"body",fullWidth:!0,multiline:!0})))},K=a(592),X=a(25),Y=a(196),Z=a(606),$=a(63),ee=a(340),te=a(662),ae=function(e){var t=e.record;return n.createElement(Y.a,{to:"/posts/".concat(t.post_id)},n.createElement(X.a,{variant:"caption",color:"inherit",align:"right"},"See related post"))},ne=Object(v.a)({actions:{float:"right"},card:{marginTop:"1em",maxWidth:"30em"}}),re=function(e){var t=e.record;return n.createElement("span",null,t.title," - ",t.id)},ce=function(e){return"".concat(e.title," - ").concat(e.id)},ie=function(e){var t=ne(),a=Object(Z.a)(e),r=a.resource,c=a.record,i=a.redirect,l=a.save,o=a.basePath,s=a.version;return n.createElement("div",{className:"edit-page"},n.createElement($.b,{defaultTitle:"Comment #".concat(c?c.id:"")}),n.createElement("div",{className:t.actions},n.createElement(ee.a,{basePath:o,resource:r,data:c,hasShow:!0,hasList:!0})),n.createElement(K.a,{className:t.card},c&&n.createElement(d.a,{basePath:o,redirect:i,resource:r,record:c,save:l,version:s},n.createElement(b.a,{disabled:!0,source:"id",fullWidth:!0}),n.createElement(C.a,{source:"post_id",reference:"posts",perPage:15,sort:{field:"title",order:"ASC"},fullWidth:!0},n.createElement(te.a,{matchSuggestion:function(e,t){return!0},optionText:n.createElement(re,null),inputText:ce,options:{fullWidth:!0}})),n.createElement(ae,null),n.createElement(b.a,{source:"author.name",validate:Object(p.b)(10),fullWidth:!0}),n.createElement(E.a,{source:"created_at",fullWidth:!0}),n.createElement(b.a,{source:"body",validate:Object(p.b)(10),fullWidth:!0,multiline:!0}))))},le=a(46),oe=a(154),se=a.n(oe),ue=a(155),me=a.n(ue),de=a(260),pe=a.n(de),be=a(577),Ee=a(664),fe=a(665),he=a(714),ge=a(267),ve=a(666),Oe=a(578),je=a(131),ye=a.n(je),we=a(706),_e=a(663),Se=a(346),ke=a(351),Ce=a(352),Pe=a(395),xe=a(667),Ne=a(595),qe=a(709),Ae=a(698),De=function(e){return n.createElement(we.a,e,n.createElement(_e.a,{source:"q",alwaysOn:!0}),n.createElement(C.a,{source:"post_id",reference:"posts"},n.createElement(P.a,{optionText:"title"})))},Te=function(e,t){return t(e,"post_id","posts").then((function(t){var a=e.map((function(e){var a=e.author,n=Object(x.a)(e,["author"]);return n.author_name=a.name,n.post_title=t[e.post_id].title,n}));ye()(a,{headers:["id","author_name","post_id","post_title","created_at","body"]},(function(e,t){e&&console.error(e),Object(Se.a)(t,"comments")}))}))},Ie=function(e){var t=e.loading,a=e.ids,r=e.page,c=e.perPage,i=e.total,l=e.setPage,o=Object(S.a)(),s=Math.ceil(i/c)||1;return t||0!==i&&(!a||a.length)?s>1&&n.createElement(be.a,null,r>1&&n.createElement(O.a,{color:"primary",key:"prev",onClick:function(){return l(r-1)}},n.createElement(se.a,null),"\xa0",o("ra.navigation.prev")),r!==s&&n.createElement(O.a,{color:"primary",key:"next",onClick:function(){return l(r+1)}},o("ra.navigation.next"),"\xa0",n.createElement(me.a,null))):n.createElement(ke.a,{total:i,page:r,ids:a})},Le=Object(v.a)((function(e){return{card:{height:"100%",display:"flex",flexDirection:"column"},cardContent:e.typography.body1,cardLink:Object(le.a)(Object(le.a)({},e.typography.body1),{},{flexGrow:1}),cardLinkLink:{display:"inline"},cardActions:{justifyContent:"flex-end"}}})),Fe=function(e){var t=e.ids,a=e.data,r=e.basePath,c=Object(S.a)(),i=Le();return n.createElement(Ee.a,{spacing:2,container:!0},t.map((function(e){return n.createElement(Ee.a,{item:!0,key:e,sm:12,md:6,lg:4},n.createElement(K.a,{className:i.card},n.createElement(fe.a,{className:"comment",title:n.createElement(B.a,{record:a[e],source:"author.name"}),subheader:n.createElement(Ce.a,{record:a[e],source:"created_at"}),avatar:n.createElement(he.a,null,n.createElement(pe.a,null))}),n.createElement(ge.a,{className:i.cardContent},n.createElement(B.a,{record:a[e],source:"body"})),n.createElement(ge.a,{className:i.cardLink},c("comment.list.about"),"\xa0",n.createElement(Pe.a,{resource:"comments",record:a[e],source:"post_id",reference:"posts",basePath:r},n.createElement(B.a,{source:"title",className:i.cardLinkLink}))),n.createElement(ve.a,{className:i.cardActions},n.createElement(xe.a,{resource:"posts",basePath:r,record:a[e]}),n.createElement(Ne.a,{resource:"posts",basePath:r,record:a[e]}))))})))};Fe.defaultProps={data:{},ids:[]};var We=function(e){return n.createElement(qe.a,Object.assign({primaryText:function(e){return e.author.name},secondaryText:function(e){return e.body},tertiaryText:function(e){return new Date(e.created_at).toLocaleDateString()},leftAvatar:function(){return n.createElement(pe.a,null)}},e))},Re={list:function(e){var t=Object(Oe.a)((function(e){return e.breakpoints.down("sm")}));return n.createElement(Ae.a,Object.assign({},e,{perPage:6,exporter:Te,filters:n.createElement(De,null),pagination:n.createElement(Ie,null),component:"div"}),t?n.createElement(We,null):n.createElement(Fe,null))},create:J,edit:ie,show:a(702).a,icon:u.a},Ve=a(367),Me=a(348),Be=function(){Object(Ve.a)();var e=Object(Me.a)("posts",{page:1,perPage:10},{field:"published_at",order:"DESC"}),t=e.ids,a=e.data,r=e.total;return e.loaded?n.createElement("div",null,n.createElement($.b,{title:"Example Admin"}),n.createElement("h1",null,"Posts"),n.createElement("p",null,"Found ",n.createElement("span",{className:"total"},r)," posts !"),n.createElement("ul",null,t.map((function(e){return n.createElement("li",{key:e},a[e].title)})))):null},He=a(658),Ue=function(){var e=Object(h.e)(),t=Object(h.f)((function(e){return e.admin.resources.posts&&e.admin.resources.posts.list.total>0})),a=Object(h.f)((function(e){return e.admin.resources.posts?e.admin.resources.posts.list.total:0}));return Object(n.useEffect)((function(){e(Object(He.c)("posts",{page:0,perPage:10},{field:"id",order:"ASC"}))}),[e]),n.createElement("div",null,n.createElement("h1",null,"Posts"),!t&&n.createElement("p",{className:"app-loader"},"Loading..."),t&&n.createElement("p",null,"Found ",n.createElement("span",{className:"total"},a)," posts !"))},Ge=a(368),Qe=a(673),ze={posts:[{id:1,ticket:"Accusantium qui nihil voluptatum quia voluptas maxime ab similique",note:"<p>Rerum velit quos est <strong>similique</strong>. Consectetur tempora eos ullam velit nobis sit debitis. Magni explicabo omnis delectus labore vel recusandae.</p><p>Aut a minus laboriosam harum placeat quas minima fuga. Quos nulla fuga quam officia tempore. Rerum occaecati ut eum et tempore. Nam ab repudiandae et nemo praesentium.</p><p>Cumque corporis officia occaecati ducimus sequi laborum omnis ut. Nam aspernatur veniam fugit. Nihil eum libero ea dolorum ducimus impedit sed. Quidem inventore porro corporis debitis eum in. Nesciunt unde est est qui nulla. Esse sunt placeat molestiae molestiae sed quia. Sunt qui quidem quos velit reprehenderit quos blanditiis ducimus. Sint et molestiae maxime ut consequatur minima. Quaerat rem voluptates voluptatem quos. Corporis perferendis in provident iure. Commodi odit exercitationem excepturi et deserunt qui.</p><p>Optio iste necessitatibus velit non. Neque sed occaecati culpa porro culpa. Quia quam in molestias ratione et necessitatibus consequatur. Est est tempora consequatur voluptatem vel. Mollitia tenetur non quis omnis perspiciatis deserunt sed necessitatibus. Ad rerum reiciendis sunt aspernatur.</p><p>Est ullam ut magni aspernatur. Eum et sed tempore modi.</p><p>Earum aperiam sit neque quo laborum suscipit unde. Expedita nostrum itaque non non adipisci. Ut delectus quis delectus est at sint. Iste hic qui ea eaque eaque sed id. Hic placeat rerum numquam id velit deleniti voluptatem. Illum adipisci voluptas adipisci ut alias. Earum exercitationem iste quidem eveniet aliquid hic reiciendis. Exercitationem est sunt in minima consequuntur. Aut quaerat libero dolorem.</p>",MR:[{MR1:1,MR2:1,MR3:[1,!1]}],TP:[{TP1:1,TP2:2}],CSF:[{CSF1:1}],views:143,average_note:2.72198,undocumented:!0,published_at:new Date("2012-08-06"),tags:[1,3],category:"tech",subcategory:"computers",backlinks:[{date:"2012-08-09T00:00:00.000Z",url:"http://example.com/bar/baz.html"}],notifications:[12,31,42]}],comments:[{id:1,author:{},post_id:6,body:"Queen, tossing her head through the wood. 'If it had lost something; and she felt sure it.",created_at:new Date("2012-08-02")},{id:2,author:{name:"Kiley Pouros",email:"kiley@gmail.com"},post_id:9,body:"White Rabbit: it was indeed: she was out of the ground--and I should frighten them out of its right paw round, 'lives a March Hare. 'Sixteenth,'.",created_at:new Date("2012-08-08")},{id:3,author:{name:"Justina Hegmann"},post_id:3,body:"I'm not Ada,' she said, 'and see whether it's marked \"poison\" or.",created_at:new Date("2012-08-02")},{id:4,author:{name:"Ms. Brionna Smitham MD"},post_id:6,body:"Dormouse. 'Fourteenth of March, I think I can say.' This was such a noise inside, no one else seemed inclined.",created_at:new Date("2014-09-24")},{id:5,author:{name:"Edmond Schulist"},post_id:1,body:"I ought to tell me your history, you know,' the Hatter and the happy summer days. THE.",created_at:new Date("2012-08-07")},{id:6,author:{name:"Danny Greenholt"},post_id:6,body:"Duchess asked, with another hedgehog, which seemed to be lost: away went Alice after it, never once considering how in the other. In the very tones of.",created_at:new Date("2012-08-09")},{id:7,author:{name:"Luciano Berge"},post_id:5,body:"While the Panther were sharing a pie--' [later editions continued as follows.",created_at:new Date("2012-09-06")},{id:8,author:{name:"Annamarie Mayer"},post_id:5,body:"I tell you, you coward!' and at once and put it more clearly,' Alice.",created_at:new Date("2012-10-03")},{id:9,author:{name:"Breanna Gibson"},post_id:2,body:"THAT. Then again--\"BEFORE SHE HAD THIS FIT--\" you never tasted an egg!' 'I HAVE tasted eggs, certainly,' said Alice, as she spoke. Alice did not like to have it.",created_at:new Date("2012-11-06")},{id:10,author:{name:"Logan Schowalter"},post_id:3,body:"I'd been the whiting,' said the Hatter, it woke up again with a T!' said the Gryphon. '--you advance twice--' 'Each with a growl, And concluded the banquet--] 'What IS the fun?' said.",created_at:new Date("2012-12-07")},{id:11,author:{name:"Logan Schowalter"},post_id:1,body:"I don't want to be?' it asked. 'Oh, I'm not Ada,' she said, 'and see whether it's marked \"poison\" or not'; for she had asked it aloud; and in despair she put her hand on the end of the.",created_at:new Date("2012-08-05")}],tags:[{id:1,name:"Sport",published:1},{id:2,name:"Technology",published:!1},{id:3,name:"Code",published:!0},{id:4,name:"Photo",published:!1},{id:5,name:"Music",published:1},{id:6,name:"Parkour",published:1,parent_id:1},{id:7,name:"Crossfit",published:1,parent_id:1},{id:8,name:"Computing",published:1,parent_id:2},{id:9,name:"Nanoscience",published:1,parent_id:2},{id:10,name:"Blockchain",published:1,parent_id:2},{id:11,name:"Node",published:1,parent_id:3},{id:12,name:"React",published:1,parent_id:3},{id:13,name:"Nature",published:1,parent_id:4},{id:14,name:"People",published:1,parent_id:4},{id:15,name:"Animals",published:1,parent_id:13},{id:16,name:"Moutains",published:1,parent_id:13},{id:17,name:"Rap",published:1,parent_id:5},{id:18,name:"Rock",published:1,parent_id:5},{id:19,name:"World",published:1,parent_id:5}],users:[{id:1,name:"Logan Schowalter",role:"admin"},{id:2,name:"Breanna Gibson",role:"user"},{id:3,name:"Annamarie Mayer",role:"user"}]},Je=a(118),Ke=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e.rawFile),n.onload=function(){return t(n.result)},n.onerror=a}))},Xe=function(e){return Object(le.a)(Object(le.a)({},e),{},{update:function(t,a){if("posts"!==t||!a.data.pictures)return e.update(t,a);var n=a.data.pictures.filter((function(e){return e.rawFile instanceof File})),r=a.data.pictures.filter((function(e){return!(e.rawFile instanceof File)}));return Promise.all(n.map(Ke)).then((function(e){return e.map((function(e){return{src:e,title:"".concat(a.data.title)}}))})).then((function(n){return e.update(t,Object(le.a)(Object(le.a)({},a),{},{data:Object(le.a)(Object(le.a)({},a.data),{},{pictures:[].concat(Object(Je.a)(n),Object(Je.a)(r))})}))}))}})}(Object(Ge.a)(ze,!0)),Ye=new Proxy(Xe,{get:function(e,t){return function(e,a){return"posts"===e&&a.data&&"f00bar"===a.data.title?Promise.reject(new Error("this title cannot be used")):Xe[t](e,a)}}}),Ze=new Proxy(Ye,{get:function(e,t){return function(e,a){return new Promise((function(n){return setTimeout((function(){return n(Ye[t](e,a))}),300)}))}}}),$e=Object(Qe.a)(Ze),et=a(205),tt=a(204),at=Object(le.a)(Object(le.a)({simple:{action:{close:"Close",resetViews:"Reset views"},"create-post":"New post"}},tt.a),{},{resources:{posts:{name:"Post |||| Posts",fields:{average_note:"Average note",body:"Body",comments:"Comments",commentable:"Commentable",commentable_short:"Com.",created_at:"Created at",notifications:"Notifications recipients",nb_view:"Nb views",password:"Password (if protected post)",pictures:"Related Pictures",published_at:"Published at",teaser:"Teaser",tags:"Tags",title:"Title",views:"Views",authors:"Authors"}},comments:{name:"Comment |||| Comments",fields:{body:"Body",created_at:"Created at",post_id:"Posts",author:{name:"Author"}}},users:{name:"User |||| Users",fields:{name:"Name",role:"Role"}}},post:{list:{search:"Search"},form:{summary:"Summary",body:"Body",miscellaneous:"Miscellaneous",comments:"Comments"},edit:{title:'Post "%{title}"'},action:{save_and_edit:"Save and Edit",save_and_add:"Save and Add",save_and_show:"Save and Show",save_with_average_note:"Save with Note"}},comment:{list:{about:"About"}},user:{list:{search:"Search"},form:{summary:"Summary",security:"Security"},edit:{title:'User "%{title}"'},action:{save_and_add:"Save and Add",save_and_show:"Save and Show"}}}),nt={fr:function(){return a.e(3).then(a.bind(null,720)).then((function(e){return e.default}))}},rt=Object(et.a)((function(e){return"fr"===e?nt[e]():at}),"en"),ct=a(674),it=a(715),lt=a(371),ot=a(393),st=a(699),ut=a(268),mt=a(670),dt=a(370),pt=a.n(dt),bt=Object(v.a)((function(e){return{menuItem:{color:e.palette.text.secondary},icon:{minWidth:e.spacing(5)}}})),Et=Object(n.forwardRef)((function(e,t){var a=Object(ct.a)(),r=Object(it.a)(),c=bt();return n.createElement(ut.a,{ref:t,className:c.menuItem,onClick:function(){r("en"===a?"fr":"en"),e.onClick()}},n.createElement(mt.a,{className:c.icon},n.createElement(pt.a,null)),"Switch Language")})),ft=function(e){return n.createElement(lt.a,e,n.createElement(Et,null))},ht=function(e){return n.createElement(ot.a,Object.assign({},e,{userMenu:n.createElement(ft,null)}))},gt=a(208),vt=a.n(gt),Ot=a(212),jt=a(700),yt=a(710),wt=a(711),_t=a(705),St=a(679),kt=function(e){return n.createElement(N.a,e,n.createElement(q.a,{label:"post.action.save_and_edit",redirect:"edit",submitOnEnter:!0}),n.createElement(q.a,{label:"post.action.save_and_show",redirect:"show",submitOnEnter:!1,variant:"text"}),n.createElement(q.a,{label:"post.action.save_and_add",redirect:!1,submitOnEnter:!1,variant:"text"}),n.createElement(q.a,{label:"post.action.save_with_average_note",transform:function(e){return Object(le.a)(Object(le.a)({},e),{},{average_note:10})},redirect:"show",submitOnEnter:!1,variant:"text"}))},Ct=[{date:new Date,url:"http://google.com"}],Pt=function(e){var t=e.permissions,a=Object(x.a)(e,["permissions"]),r=Object(n.useMemo)((function(){return{average_note:0}}),[]),c=Object(n.useMemo)((function(){return new Date}),[]);return n.createElement(m.a,a,n.createElement(d.a,{toolbar:n.createElement(kt,null),initialValues:r,validate:function(e){var t={};return["ticket"].forEach((function(a){e[a]||(t[a]="Required field")})),t}},n.createElement(b.a,{autoFocus:!0,source:"ticket"}),n.createElement(jt.a,{source:"message relevance",choices:[{id:"yes",name:"Yes"},{id:"no",name:"No"},{id:"na",name:"N/A"}]}),n.createElement(yt.a,{source:"undocumented",defaultValue:!0}),n.createElement(Ot.a,{source:"note",validate:Object(p.e)()}),n.createElement(E.a,{source:"published_at",defaultValue:c}),n.createElement(wt.a,{source:"backlinks",defaultValue:Ct,validate:[Object(p.e)()]},n.createElement(_t.a,null,n.createElement(E.a,{source:"date"}),n.createElement(b.a,{source:"url"}))),"admin"===t&&n.createElement(wt.a,{source:"authors"},n.createElement(_t.a,null,n.createElement(C.a,{label:"User",source:"user_id",reference:"users"},n.createElement(te.a,null)),n.createElement(St.a,null,(function(e){e.formData;var t=e.scopedFormData,a=e.getSource,r=Object(x.a)(e,["formData","scopedFormData","getSource"]);return t&&t.user_id?n.createElement(P.a,Object.assign({label:"Role",source:a("role"),choices:[{id:"headwriter",name:"Head Writer"},{id:"proofreader",name:"Proof reader"},{id:"cowriter",name:"Co-Writer"}]},r)):null}))))))},xt=a(99),Nt=a(681),qt=a(682),At=a(716),Dt=a(685),Tt=a(717),It=a(701),Lt=a(686),Ft=a(687),Wt=a(713),Rt=a(392),Vt=function(e){var t=e.record,a=Object(S.a)();return n.createElement("span",null,t?a("post.edit.title",{title:t.title}):"")},Mt=a(712),Bt=a(680),Ht=Object(v.a)({button:{margin:"0 24px",position:"relative"},input:{display:"flex",flexDirection:"row",justifyContent:"flex-start",width:"50%"}}),Ut=function(e){var t=Object.assign({},e),a=Ht(),r=Object(g.e)().change,c=Object(n.useState)(!0),i=Object(f.a)(c,2),l=i[0],o=i[1];return n.createElement("div",{className:a.input},n.createElement(Mt.a,Object.assign({},t,{filter:{published:l}}),n.createElement(Bt.a,null)),n.createElement(O.a,{name:"change-filter",className:a.button,onClick:function(){o(!l),r("tags",[])}},"Filter ",l?"Unpublished":"Published"," Tags"))},Gt=function(e){var t=e.basePath,a=e.data,r=e.hasShow;return n.createElement(xt.a,null,n.createElement(Nt.a,{className:"button-clone",basePath:t,record:a}),r&&n.createElement(Ne.a,{basePath:t,record:a}))},Qt=function(e){var t=e.permissions,a=Object(x.a)(e,["permissions"]);return n.createElement(qt.a,Object.assign({title:n.createElement(Vt,null),actions:n.createElement(Gt,null)},a),n.createElement(At.a,{initialValues:{average_note:0},warnWhenUnsavedChanges:!0},n.createElement(Dt.a,{label:"post.form.summary"},n.createElement(b.a,{disabled:!0,source:"id"}),n.createElement(b.a,{source:"title",validate:Object(p.e)(),resettable:!0}),n.createElement(b.a,{multiline:!0,fullWidth:!0,source:"teaser",validate:Object(p.e)(),resettable:!0}),n.createElement(Tt.a,{source:"notifications",choices:[{id:12,name:"Ray Hakt"},{id:31,name:"Ann Gullar"},{id:42,name:"Sean Phonee"}]}),n.createElement(It.a,{multiple:!0,source:"pictures",accept:"image/*"},n.createElement(Lt.a,{source:"src",title:"title"})),"admin"===t&&n.createElement(wt.a,{source:"authors"},n.createElement(_t.a,null,n.createElement(C.a,{label:"User",source:"user_id",reference:"users"},n.createElement(te.a,null)),n.createElement(St.a,null,(function(e){e.formData;var t=e.scopedFormData,a=e.getSource,r=Object(x.a)(e,["formData","scopedFormData","getSource"]);return t&&t.user_id?n.createElement(P.a,Object.assign({label:"Role",source:a("role"),choices:[{id:"headwriter",name:"Head Writer"},{id:"proofreader",name:"Proof reader"},{id:"cowriter",name:"Co-Writer"}]},r)):null}))))),n.createElement(Dt.a,{label:"post.form.body"},n.createElement(Ot.a,{source:"body",label:"",validate:Object(p.e)(),addLabel:!1})),n.createElement(Dt.a,{label:"post.form.miscellaneous"},n.createElement(Ut,{reference:"tags",source:"tags",label:"Tags"}),n.createElement(wt.a,{source:"backlinks"},n.createElement(_t.a,null,n.createElement(E.a,{source:"date"}),n.createElement(b.a,{source:"url"}))),n.createElement(E.a,{source:"published_at",options:{locale:"pt"}}),n.createElement(P.a,{allowEmpty:!0,resettable:!0,source:"category",choices:[{name:"Tech",id:"tech"},{name:"Lifestyle",id:"lifestyle"}]}),n.createElement(Ft.a,{source:"average_note",validate:[Object(p.e)(),Object(p.d)(),Object(p.c)(0)]}),n.createElement(yt.a,{source:"undocumented",defaultValue:!0}),n.createElement(b.a,{disabled:!0,source:"views"})),n.createElement(Dt.a,{label:"post.form.comments"},n.createElement(Wt.a,{reference:"comments",target:"post_id",addLabel:!1,fullWidth:!0},n.createElement(Rt.a,null,n.createElement(Ce.a,{source:"created_at"}),n.createElement(B.a,{source:"author.name"}),n.createElement(B.a,{source:"body"}),n.createElement(xe.a,null))))))},zt=a(115),Jt=a(410),Kt=a(10),Xt=a.n(Kt),Yt=a(396),Zt=a(690),$t=a(361),ea=a(363),ta=a(397),aa=a(691),na=a(692),ra=a(385),ca=a.n(ra),ia=a(105),la=a(583),oa=a(400),sa=a(688),ua=a(689),ma=a(30),da=function(e){var t=e.resource,a=e.selectedIds,r=Object(ia.a)(),c=Object(la.a)(),i=Object(oa.a)(),l=Object(sa.a)(t,a,{views:0},{action:ua.a,onSuccess:function(){r("ra.notification.updated","info",{smart_count:a.length},!0),c(t),i()},onFailure:function(e){return r("string"===typeof e?e:e.message||"ra.notification.http_error","warning")},undoable:!0}),o=Object(f.a)(l,2),s=o[0],u=o[1].loading;return n.createElement(ma.a,{label:"simple.action.resetViews",disabled:u,onClick:s},n.createElement(ca.a,null))},pa=(vt.a,Object(v.a)((function(e){return{chip:{marginBottom:e.spacing(1)}}}))),ba=function(e){var t=e.label,a=Object(S.a)(),r=pa();return n.createElement(Jt.a,{className:r.chip,label:a(t)})},Ea=function(e){return n.createElement(we.a,e,n.createElement(_e.a,{source:"q",alwaysOn:!0}),n.createElement(b.a,{source:"ticket",defaultValue:"Qui tempore rerum et voluptates"}),n.createElement(ba,{label:"resources.posts.fields.undocumented",source:"undocumented",defaultValue:!0}))},fa=function(e){var t=e.map((function(e){return Object(le.a)(Object(le.a)({},e),{},{backlinks:Xt()(e,"backlinks",[]).map((function(e){return e.url}))})}));ye()(t,(function(e,t){return Object(Se.a)(t,"posts")}))},ha=Object(v.a)((function(e){return{ticket:{maxWidth:"20em",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},hiddenOnSmallScreens:Object(zt.a)({},e.breakpoints.down("md"),{display:"none"}),publishedAt:{fontStyle:"italic"}}})),ga=Object(n.memo)((function(e){return n.createElement(n.Fragment,null,n.createElement(da,e),n.createElement(Yt.a,e),n.createElement(Zt.a,e))})),va=Object(v.a)({toolbar:{alignItems:"center",display:"flex",marginTop:-1,marginBottom:-1}}),Oa=function(e){var t=e.children,a=Object(x.a)(e,["children"]),r=va();return n.createElement("div",{className:r.toolbar},n.Children.map(t,(function(e){return Object(n.cloneElement)(e,a)})))},ja=function(e,t,a){return a.undocumented?"edit":"show"},ya=function(e){e.id;var t=e.record;e.resource;return n.createElement("div",{dangerouslySetInnerHTML:{__html:t.body}})},wa=function(e){var t=ha(),a=Object(Oe.a)((function(e){return e.breakpoints.down("sm")}));return n.createElement(Ae.a,Object.assign({},e,{bulkActionButtons:n.createElement(ga,null),filters:n.createElement(Ea,null),sort:{field:"published_at",order:"DESC"},exporter:fa}),a?n.createElement(qe.a,{primaryText:function(e){return e.ticket},secondaryText:function(e){return"".concat(e.views," views")},tertiaryText:function(e){return new Date(e.published_at).toLocaleDateString()}}):n.createElement(Rt.a,{rowClick:ja,expand:ya,optimized:!0},n.createElement(B.a,{source:"id"}),n.createElement(B.a,{source:"ticket",cellClassName:t.ticket}),n.createElement(Ce.a,{source:"published_at",sortByOrder:"DESC",cellClassName:t.publishedAt}),n.createElement($t.a,{source:"undocumented",label:"resources.posts.fields.commentable_short",sortable:!1}),n.createElement(ea.a,{source:"views",sortByOrder:"DESC"}),n.createElement(ta.a,{label:"Tags",reference:"tags",source:"tags",sortBy:"tags.name",cellClassName:t.hiddenOnSmallScreens,headerClassName:t.hiddenOnSmallScreens},n.createElement(aa.a,null,n.createElement(na.a,{source:"name"}))),n.createElement(Oa,null,n.createElement(xe.a,null),n.createElement(Ne.a,null))))},_a=a(672),Sa=a(264),ka=a(718),Ca=a(693),Pa=a(360),xa=a(365),Na=a(364),qa=a(694),Aa=a(17),Da=function(e){var t=e.record;return n.createElement(O.a,{component:Aa.a,to:{pathname:"/comments/create",state:{record:{post_id:t.id}}}},"Add comment")},Ta={list:wa,create:Pt,edit:Qt,show:function(e){var t=Object(_a.a)(e);return n.createElement(Sa.a,Object.assign({},t,{title:n.createElement(Vt,null)}),n.createElement(ka.a,null,n.createElement(Ca.a,{label:"post.form.summary"},n.createElement(B.a,{source:"id"}),n.createElement(B.a,{source:"title"}),t.record&&"Fusce massa lorem, pulvinar a posuere ut, accumsan ac nisi"===t.record.title&&n.createElement(B.a,{source:"teaser"}),n.createElement(Pa.a,{source:"backlinks"},n.createElement(Rt.a,null,n.createElement(Ce.a,{source:"date"}),n.createElement(xa.a,{source:"url"})))),n.createElement(Ca.a,{label:"post.form.body"},n.createElement(Na.a,{source:"body",stripTags:!1,label:"",addLabel:!1})),n.createElement(Ca.a,{label:"post.form.miscellaneous"},n.createElement(ta.a,{reference:"tags",source:"tags"},n.createElement(aa.a,null,n.createElement(na.a,{source:"name"}))),n.createElement(Ce.a,{source:"published_at"}),n.createElement(qa.a,{source:"category",choices:[{name:"Tech",id:"tech"},{name:"Lifestyle",id:"lifestyle"}]}),n.createElement(ea.a,{source:"average_note"}),n.createElement($t.a,{source:"undocumented"}),n.createElement(B.a,{source:"views"}),n.createElement(Nt.a,null)),n.createElement(Ca.a,{label:"post.form.comments"},n.createElement(Wt.a,{addLabel:!1,reference:"comments",target:"post_id",sort:{field:"created_at",order:"DESC"}},n.createElement(Rt.a,null,n.createElement(Ce.a,{source:"created_at"}),n.createElement(B.a,{source:"author.name"}),n.createElement(B.a,{source:"body"}),n.createElement(xe.a,null))),n.createElement(Da,null))))},icon:vt.a},Ia=a(209),La=a.n(Ia),Fa=Object(v.a)((function(e){var t;return{root:(t={},Object(zt.a)(t,e.breakpoints.up("sm"),{width:200,margin:"1em"}),Object(zt.a)(t,e.breakpoints.down("sm"),{width:0,overflowX:"hidden",margin:0}),t)}})),Wa=function(){var e=Fa();return n.createElement("div",{className:e.root},n.createElement(X.a,{variant:"h6"},"App Users"),n.createElement(X.a,{variant:"body2"},"Eiusmod adipisicing tempor duis qui. Ullamco aliqua tempor incididunt aliquip aliquip qui ad minim aliqua. Aute et magna quis pariatur irure sunt. Aliquip velit consequat dolore ullamco laborum voluptate cupidatat. Proident minim reprehenderit id dolore elit sit occaecat ad amet tempor esse occaecat enim. Laborum aliqua excepteur qui ipsum in dolor et cillum est."))},Ra=function(e){var t=e.permissions,a=(e.hasList,e.hasEdit,e.hasShow,e.hasCreate,Object(x.a)(e,["permissions","hasList","hasEdit","hasShow","hasCreate"]));return n.createElement(N.a,a,n.createElement(q.a,{label:"user.action.save_and_show",redirect:"show",submitOnEnter:!0}),"admin"===t&&n.createElement(q.a,{label:"user.action.save_and_add",redirect:!1,submitOnEnter:!1,variant:"text"}))},Va=function(e){var t=e.permissions,a=Object(x.a)(e,["permissions"]);return n.createElement(m.a,Object.assign({},a,{aside:n.createElement(Wa,null)}),n.createElement(At.a,{toolbar:n.createElement(Ra,Object.assign({permissions:t},a))},n.createElement(Dt.a,{label:"user.form.summary",path:""},n.createElement(b.a,{source:"name",defaultValue:"Slim Shady",autoFocus:!0,validate:Object(p.e)()})),"admin"===t&&n.createElement(Dt.a,{label:"user.form.security",path:"security"},n.createElement(te.a,{source:"role",choices:[{id:"",name:"None"},{id:"admin",name:"Admin"},{id:"user",name:"User"},{id:"user_simple",name:"UserSimple"}]}))))},Ma=a(394),Ba=function(e){var t=e.record,a=Object(S.a)();return n.createElement("span",null,t?a("user.edit.title",{title:t.name}):"")},Ha=Object(v.a)({toolbar:{display:"flex",justifyContent:"space-between"}}),Ua=function(e){var t=Ha();return n.createElement(N.a,Object.assign({},e,{classes:t}),n.createElement(q.a,null),n.createElement(Ma.a,null))},Ga=function(e){var t=e.basePath,a=e.data;e.hasShow;return n.createElement(xt.a,null,n.createElement(Nt.a,{className:"button-clone",basePath:t,record:a}),n.createElement(Ne.a,{basePath:t,record:a}))},Qa=function(e){var t=e.permissions,a=Object(x.a)(e,["permissions"]);return n.createElement(qt.a,Object.assign({title:n.createElement(Ba,null),aside:n.createElement(Wa,null),actions:n.createElement(Ga,null)},a),n.createElement(At.a,{defaultValue:{role:"user"},toolbar:n.createElement(Ua,null)},n.createElement(Dt.a,{label:"user.form.summary",path:""},"admin"===t&&n.createElement(b.a,{disabled:!0,source:"id"}),n.createElement(b.a,{source:"name",defaultValue:"slim shady",validate:Object(p.e)()})),"admin"===t&&n.createElement(Dt.a,{label:"user.form.security",path:"security"},n.createElement(P.a,{source:"role",validate:Object(p.e)(),choices:[{id:"",name:"None"},{id:"admin",name:"Admin"},{id:"user",name:"User"}],defaultValue:"user"}))))},za=a(124),Ja=a.n(za),Ka=a(356),Xa=function(e){e.permissions;var t=Object(x.a)(e,["permissions"]);return n.createElement(qt.a,Object.assign({title:" "},t),n.createElement(d.a,{initialValues:{role:"user"}},n.createElement(b.a,{source:"name",defaultValue:"slim shady",validate:Object(p.e)()})))},Ya=(La.a,function(e){var t=e.permissions,a=Object(x.a)(e,["permissions"]);return n.createElement(we.a,a,n.createElement(_e.a,{source:"q",alwaysOn:!0}),n.createElement(b.a,{source:"name"}),"admin"===t?n.createElement(b.a,{source:"role"}):null)}),Za=function(e){return n.createElement(Ka.a,e)},$a=Ja()((function(e){return function(t,a,n){return"admin"===e?Promise.resolve("edit"):Promise.resolve("show")}})),en={list:function(e){var t=e.permissions,a=Object(x.a)(e,["permissions"]);return n.createElement(Ae.a,Object.assign({},a,{filters:n.createElement(Ya,{permissions:t}),filterDefaultValues:{role:"user"},sort:{field:"name",order:"ASC"},aside:n.createElement(Wa,null),bulkActionButtons:n.createElement(Za,null)}),Object(Oe.a)((function(e){return e.breakpoints.down("sm")}))?n.createElement(qe.a,{primaryText:function(e){return e.name},secondaryText:function(e){return"admin"===t?e.role:null}}):n.createElement(Rt.a,{rowClick:$a(t),expand:n.createElement(Xa,null),optimized:!0},n.createElement(B.a,{source:"id"}),n.createElement(B.a,{source:"name"}),"admin"===t&&n.createElement(B.a,{source:"role"})))},create:Va,edit:Qa,show:function(e){var t=e.permissions,a=Object(x.a)(e,["permissions"]);return n.createElement(Sa.b,Object.assign({title:n.createElement(Ba,null),aside:n.createElement(Wa,null)},a),n.createElement(ka.a,null,n.createElement(Ca.a,{label:"user.form.summary"},n.createElement(B.a,{source:"id"}),n.createElement(B.a,{source:"name"})),"admin"===t&&n.createElement(Ca.a,{label:"user.form.security",path:"security"},n.createElement(B.a,{source:"role"}))))},icon:La.a},tn=function(e){return n.createElement(m.a,e,n.createElement(d.a,{redirect:"list"},n.createElement(B.a,{source:"id"}),n.createElement(b.a,{source:"name",validate:[Object(p.e)()]})))},an=function(e){return n.createElement(qt.a,e,n.createElement(d.a,{redirect:"list"},n.createElement(B.a,{source:"id"}),n.createElement(b.a,{source:"name",validate:[Object(p.e)()]})))},nn=a(591),rn=a(668),cn=a(669),ln=a(695),on=a(657),sn=a(386),un=a.n(sn),mn=a(110),dn=a.n(mn),pn=Object(v.a)({card:{maxWidth:"20em",marginTop:"1em"}}),bn=function(e){var t=e.className,a=Object(x.a)(e,["className"]),r=pn();return n.createElement(K.a,Object.assign({},a,{className:"".concat(t," ").concat(r.card)}))},En=function e(t){var a=t.level,r=t.root,c=t.getChildNodes,i=t.openChildren,l=t.toggleNode,o=c(r),s=o.length>0,u=i.includes(r.id);return n.createElement(n.Fragment,null,n.createElement(nn.a,{button:s,onClick:function(){return s&&l(r)},style:{paddingLeft:16*a}},s&&u&&n.createElement(un.a,null),s&&!u&&n.createElement(dn.a,null),!s&&n.createElement("div",{style:{width:24}},"\xa0"),n.createElement(rn.a,{primary:r.name}),n.createElement(cn.a,null,n.createElement(xe.a,{record:r,basePath:"/tags"}))),n.createElement(ln.a,{in:u,timeout:"auto",unmountOnExit:!0},n.createElement(on.a,{component:"div",disablePadding:!0},o.map((function(t){return n.createElement(e,{key:t.id,root:t,getChildNodes:c,openChildren:i,toggleNode:l,level:a+1})})))))},fn=function(e){var t=e.ids,a=e.data,r=Object(n.useState)([]),c=Object(f.a)(r,2),i=c[0],l=c[1],o=function(e){return l((function(t){return t.includes(e.id)?[].concat(Object(Je.a)(t.splice(0,t.indexOf(e.id))),Object(Je.a)(t.splice(t.indexOf(e.id)+1,t.length))):[].concat(Object(Je.a)(t),[e.id])}))},s=t.map((function(e){return a[e]})),u=s.filter((function(e){return"undefined"===typeof e.parent_id})),m=function(e){return s.filter((function(t){return t.parent_id===e.id}))};return n.createElement(on.a,null,u.map((function(e){return n.createElement(En,{key:e.id,root:e,getChildNodes:m,openChildren:i,toggleNode:o,level:1})})))},hn={create:tn,edit:an,list:function(e){return n.createElement(Ae.a,Object.assign({},e,{perPage:1e3,pagination:null,component:bn,actions:null}),n.createElement(fn,null))},show:function(e){return n.createElement(Sa.b,e,n.createElement(M.a,null,n.createElement(B.a,{source:"id"}),n.createElement(B.a,{source:"name"})))}};Object(i.render)(n.createElement(r.a,{authProvider:o,dataProvider:$e,i18nProvider:rt,title:"Example Admin",layout:function(e){return n.createElement(st.a,Object.assign({},e,{appBar:ht}))},customRoutes:[n.createElement(l.b,{exact:!0,path:"/custom",component:function(e){return n.createElement(Ue,e)},noLayout:!0}),n.createElement(l.b,{exact:!0,path:"/custom2",component:function(e){return n.createElement(Be,e)}})]},(function(e){return[n.createElement(c.a,Object.assign({name:"posts"},Ta)),n.createElement(c.a,Object.assign({name:"comments"},Re)),e?n.createElement(c.a,Object.assign({name:"users"},en)):null,n.createElement(c.a,Object.assign({name:"tags"},hn))]})),document.getElementById("root"))}},[[438,1,2]]]);
//# sourceMappingURL=main.2626b3b1.chunk.js.map